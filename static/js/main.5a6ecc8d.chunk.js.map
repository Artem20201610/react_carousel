{"version":3,"sources":["components/CarouselControls/CarouselControls.js","components/CarouselImage/CarouselImage.js","types.js","components/CarouselList/CarouselList.js","components/Carousel/Carousel.js","components/Controls/Controls.js","App.js","index.js"],"names":["CarouselControls","props","type","onClick","app","text","CarouselImage","PropTypes","shape","height","string","isRequired","width","src","image","alt","style","imageStyle","CarouselList","className","carouselStyle","carouselListStyle","images","map","key","Carousel","state","scrollLeft","imagesCount","itemWidth","showedLast","showedFirst","imageWidth","next","infinite","step","frameSize","maxScrollBy","scrollBy","setState","prev","carouselWidth","this","animationDuration","overflow","transform","transitionDuration","React","Component","defaultProps","Controls","defaultValue","min","max","onInput","target","previousSibling","textContent","value","changeSetting","App","setting","newSetting","checked","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5a6ecc8d.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const CarouselControls = props => (\n  <button\n    type=\"button\"\n    onClick={props.app[props.text]}\n  >\n    {props.text}\n  </button>\n);\n\nCarouselControls.propTypes = {\n  app: PropTypes.shape({\n    prev: PropTypes.func.isRequired,\n    next: PropTypes.func.isRequired,\n  }).isRequired,\n  text: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport { imageType, imageStyleType } from '../../types';\n\nexport const CarouselImage = props => (\n  <img\n    src={props.image}\n    alt={props.image}\n    style={props.imageStyle}\n  />\n);\n\nCarouselImage.propTypes = {\n  image: imageType.isRequired,\n  imageStyle: imageStyleType.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nexport const imageStyleType = PropTypes.shape({\n  height: PropTypes.string.isRequired,\n  width: PropTypes.string.isRequired,\n});\n\nexport const imageType = PropTypes.string;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CarouselImage } from '../CarouselImage/CarouselImage';\nimport { imageStyleType, imageType } from '../../types';\n\nexport const CarouselList = props => (\n  <ul\n    className=\"Carousel__list\"\n    style={props.carouselStyle}\n  >\n    <div\n      className=\"Carousel__list-scroll\"\n      style={props.carouselListStyle}\n    >\n      {props.images.map(image => (\n        <li key={image}>\n          <CarouselImage image={image} imageStyle={props.imageStyle} />\n        </li>\n      ))}\n    </div>\n  </ul>\n);\n\nCarouselList.propTypes = {\n  imageStyle: imageStyleType.isRequired,\n  images: PropTypes.arrayOf(imageType).isRequired,\n  carouselStyle: PropTypes.shape({\n    height: PropTypes.string.isRequired,\n    width: PropTypes.string.isRequired,\n    overflow: PropTypes.string.isRequired,\n  }).isRequired,\n  carouselListStyle: PropTypes.shape({\n    transform: PropTypes.string.isRequired,\n    transitionDuration: PropTypes.string.isRequired,\n  }).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './Carousel.scss';\n\nimport { CarouselControls } from '../CarouselControls/CarouselControls';\nimport { CarouselList } from '../CarouselList/CarouselList';\n\nclass Carousel extends React.Component {\n  state = {\n    scrollLeft: 0,\n    imagesCount: 10,\n    itemWidth: 130,\n  }\n\n  showedLast = false;\n\n  showedFirst = false;\n\n  imageWidth = 130;\n\n  next = () => {\n    const { itemWidth, infinite, step, frameSize } = this.props;\n    const { scrollLeft } = this.state;\n    const carouselWidth = itemWidth * this.state.imagesCount;\n    const maxScrollBy = carouselWidth - (itemWidth * frameSize);\n    let scrollBy = scrollLeft + (itemWidth * step);\n\n    if (scrollBy > maxScrollBy) {\n      scrollBy = maxScrollBy;\n\n      if (infinite) {\n        if (this.showedLast || (scrollLeft === maxScrollBy)) {\n          scrollBy = 0;\n          this.showedLast = false;\n        } else {\n          this.showedLast = true;\n        }\n      }\n    }\n\n    this.setState({\n      scrollLeft: scrollBy,\n    });\n  }\n\n  prev = () => {\n    const { itemWidth, infinite, step, frameSize } = this.props;\n    const { scrollLeft } = this.state;\n    const carouselWidth = itemWidth * this.state.imagesCount;\n    let scrollBy = scrollLeft - (itemWidth * step);\n\n    if (scrollBy < 0) {\n      scrollBy = 0;\n\n      if (infinite) {\n        if (this.showedFirst || (scrollLeft === 0)) {\n          scrollBy = carouselWidth - -(scrollLeft - (itemWidth * frameSize));\n          this.showedFirst = false;\n        } else {\n          this.showedFirst = true;\n        }\n      }\n    }\n\n    this.setState({\n      scrollLeft: scrollBy,\n    });\n  }\n\n  render() {\n    const { itemWidth, images, animationDuration, frameSize } = this.props;\n    const { scrollLeft } = this.state;\n\n    if (itemWidth !== this.state.itemWidth) {\n      this.setState({\n        scrollLeft: 0,\n        itemWidth,\n      });\n    }\n\n    const carouselStyle = {\n      width: `${itemWidth * frameSize}px`,\n      height: `${itemWidth}px`,\n      overflow: `hidden`,\n    };\n    const carouselListStyle = {\n      transform: `translateX(-${scrollLeft}px)`,\n      transitionDuration: `${animationDuration}ms`,\n    };\n    const imageStyle = {\n      height: `${itemWidth}px`,\n      width: `${itemWidth}px`,\n    };\n\n    return (\n      <>\n        <div\n          className=\"Carousel\"\n        >\n          <CarouselList\n            carouselStyle={carouselStyle}\n            carouselListStyle={carouselListStyle}\n            images={images}\n            imageStyle={imageStyle}\n          />\n        </div>\n        <CarouselControls app={this} text=\"prev\" />\n        <CarouselControls app={this} text=\"next\" />\n      </>\n    );\n  }\n}\n\nCarousel.propTypes = {\n  step: PropTypes.number,\n  itemWidth: PropTypes.number,\n  frameSize: PropTypes.number,\n  animationDuration: PropTypes.number,\n  infinite: PropTypes.bool,\n  images: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\nCarousel.defaultProps = {\n  step: 3,\n  itemWidth: 130,\n  frameSize: 3,\n  animationDuration: 1000,\n  infinite: false,\n};\n\nexport default Carousel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Controls = props => (\n  <form className=\"form\">\n    <label className=\"form__inputs\">\n      step:\n      <label>{` 3`}</label>\n      <input\n        type=\"range\"\n        defaultValue=\"3\"\n        min=\"1\"\n        max=\"5\"\n        onInput={({ target }) => {\n          const output = target.previousSibling;\n\n          output.textContent = ` ${target.value}`;\n\n          props.app.changeSetting(target, 'step');\n        }}\n      />\n    </label>\n    <label className=\"form__inputs\">\n      frameSize:\n      <label>{` 3`}</label>\n      <input\n        type=\"range\"\n        defaultValue=\"3\"\n        min=\"1\"\n        max=\"5\"\n        onInput={({ target }) => {\n          const output = target.previousSibling;\n\n          output.textContent = ` ${target.value}`;\n\n          props.app.changeSetting(target, 'frameSize');\n        }}\n      />\n    </label>\n    <label className=\"form__inputs\">\n      itemWidth:\n      <label>{` 130`}</label>\n      <input\n        type=\"range\"\n        defaultValue=\"130\"\n        min=\"100\"\n        max=\"259\"\n        onInput={({ target }) => {\n          const output = target.previousSibling;\n\n          output.textContent = ` ${target.value}`;\n\n          props.app.changeSetting(target, 'itemWidth');\n        }}\n      />\n    </label>\n    <label className=\"form__inputs\">\n      animationDuration:\n      <label>{` 1000`}</label>\n      <input\n        type=\"range\"\n        defaultValue=\"1000\"\n        min=\"1000\"\n        max=\"3000\"\n        onInput={({ target }) => {\n          const output = target.previousSibling;\n\n          output.textContent = ` ${target.value}`;\n\n          props.app.changeSetting(target, 'animationDuration');\n        }}\n      />\n    </label>\n    <label className=\"form__inputs\">\n      infinite:\n      <input\n        type=\"checkbox\"\n        onInput={({ target }) => {\n          props.app.changeSetting(target, 'infinite');\n        }}\n      />\n    </label>\n  </form>\n);\n\nControls.propTypes = {\n  app: PropTypes.shape({\n    changeSetting: PropTypes.func.isRequired,\n  }).isRequired,\n};\n","import React from 'react';\nimport './App.scss';\nimport Carousel from './components/Carousel/Carousel';\nimport { Controls } from './components/Controls/Controls';\n\nclass App extends React.Component {\n  state = {\n    images: [\n      './img/1.png',\n      './img/2.png',\n      './img/3.png',\n      './img/4.png',\n      './img/5.png',\n      './img/6.png',\n      './img/7.png',\n      './img/8.png',\n      './img/9.png',\n      './img/10.png',\n    ],\n    step: 3,\n    frameSize: 3,\n    itemWidth: 130,\n    animationDuration: 1000,\n    infinite: false,\n  };\n\n  changeSetting = (target, setting) => {\n    let value = +target.value;\n    const newSetting = {};\n\n    if (setting === 'infinite') {\n      value = target.checked;\n    }\n\n    newSetting[setting] = value;\n\n    this.setState(newSetting);\n  }\n\n  render() {\n    const { images }\n    = this.state;\n\n    return (\n      <div className=\"App\">\n        {/* eslint-disable-next-line */}\n        <h1>Carousel with {images.length} images</h1>\n\n        <Carousel\n          images={images}\n          infinite={this.state.infinite}\n          animationDuration={this.state.animationDuration}\n          step={this.state.step}\n          itemWidth={this.state.itemWidth}\n          frameSize={this.state.frameSize}\n        />\n        <Controls app={this} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}